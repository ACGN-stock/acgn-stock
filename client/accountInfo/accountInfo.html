<template name="accountInfo">
  <div class="card">
    {{#with lookUser}}
      {{> accountInfoBasic}}
      {{> accountInfoOwnStockList}}
      {{> accountInfoLogList}}
    {{/with}}
  </div>
</template>

<template name="accountInfoBasic">
  <div class="card-block">
    <h1 class="card-title mb-1">使用者「{{this.profile.name}}」的帳號資訊：</h1>
    <hr />
    <div>
      帳號啟動日期：{{formatDateText this.createdAt}}
    </div>
    <div>
      帳號當前餘額：{{this.profile.money}}
    </div>
    <div>
      帳號剩餘推薦票：{{this.profile.vote}}
    </div>
    <div>
      帳號擁有聖晶石：{{this.profile.stone}}
    </div>
    {{#if this.profile.isAdmin}}
      <div class="text-warning">
        是金融管理會委員。
      </div>
    {{/if}}
    {{#if this.profile.revokeQualification}}
      <div class="text-danger">
        被撤銷了擔任經理人的資格！
      </div>
    {{/if}}
    {{#each manageCompanies}}
      <div class="text-primary">
        是「
        <a href="{{getCompanyHref this._id}}">{{this.companyName}}</a>
        」公司的總經理。
      </div>
    {{/each}}
  </div>
</template>

<template name="accountInfoOwnStockList">
  <div class="card-block">
    <h2 class="card-title mb-1">擁有公司股票：</h2>
    <hr />
    {{#each directorData in directorList}}
      <div>
        擁有 「{{>companyLink directorData.companyId}}」公司的{{directorData.stocks}}股股票。
      </div>
    {{else}}
      查無資料！
    {{/each}}
    {{#with paginationData}}
      {{> pagination}}
    {{/with}}
  </div>
</template>

<template name="accountInfoLogList">
  <div class="card-block">
    <h2 class="card-title mb-1">所有相關紀錄：</h2>
    <hr />
    {{#each logList}}
      {{> displayLog}}
    {{else}}
      查無資料！
    {{/each}}
    {{#with paginationData}}
      {{> pagination}}
    {{/with}}
  </div>
</template>
