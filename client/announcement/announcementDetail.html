<template name="announcementDetail">
  <div class="card">
    <div class="card-block">
      {{#if announcement}}
        <h1 class="card-title d-flex flex-wrap">
          <div>{{categoryDisplayName announcement.category}}公告</div>
          {{#if canManageAnnouncement}}
            <div class="ml-auto">
              <button class="btn btn-danger" data-action="deleteAnnouncement">刪除</button>
            </div>
          {{/if}}
        </h1>
        <hr />
        <h3 style="word-break: break-all">主旨：{{announcement.subject}}</h3>
        <p class="text-wrap">
          於 {{formatDateTimeText announcement.createdAt}} 由 {{>userLink announcement.creator}} 發佈
        </p>
        <hr />
        <h3>內文：</h3>
        {{{markdown announcement.content advanced=true}}}
        {{#if announcement.rejectionPetition}}
          <hr />
          {{> announcementRejectionPetition}}
        {{/if}}
        {{#if announcement.rejectionPoll}}
          <hr />
          {{> announcementRejectionPoll}}
        {{/if}}
      {{else}}
        讀取中…
      {{/if}}
    </div>
  </div>
</template>
