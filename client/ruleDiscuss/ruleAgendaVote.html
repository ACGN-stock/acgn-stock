<template name="ruleAgendaVote">
  <div class="card">
    {{#with agendaData}}
      <div class="card-block">
        <h1 class="card-title text-truncate">
          {{this.title}} - 投票
        </h1>
        <hr />
        <h3>
          提案人：
          {{>userLink this.proposer}}
        </h3>
        <hr />
        {{> ruleAgendaVoteForm}}
        <hr />
        <div class="text-right">
          <button type="submit" class="btn btn-primary">送出</button>
          <a class="btn btn-secondary" href={{getBackHref}}>取消</a>
        </div>
      </div>
    {{else}}
      <div class="card-block">
        Loading...
      </div>
    {{/with}}
  </div>
</template>

<template name="ruleAgendaVoteForm">
  <div class="agenda-detail">
    <div class="row border-grid-body" style="margin-top: 15px;">
      <div class="col-12 border-grid agenda-description"><h4>議程介紹</h4>{{this.description}}</div>
      {{#each issue in getIssueList this.issues}}
        {{#with issue}}
          {{> ruleIssueVoteList}}
        {{/with}}
      {{/each}}
    </div>
  </div>
</template>

<template name="ruleIssueVoteList">
  <div class="col-12 border-grid" style="padding: 5px 15px;">
    <h4>議題：{{this.title}}</h4>
    <ul class="list-group">
      {{#each optionId in this.options}}
        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" value="">
            {{getOptionText optionId}}
          </label>
        </div>
      {{/each}}
    </ul>
  </div>
</template>
