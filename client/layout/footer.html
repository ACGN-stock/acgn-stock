<template name="footer">
  <div class="fixed-bottom">
    <div class={{containerClass}}>
      {{> displayAnnouncement}}
      {{#each advertisingList}}
        {{> displayAdvertising}}
      {{/each}}
      <div class="bg-faded text-primary text-right px-3 py-1 rounded">
        <a
          class="text-danger float-left"
          href="https://github.com/mrbigmouth/acgn-stock/issues"
          target="_blank"
        >
          Bug回報
        </a>
        伺服器連線數量：{{onlinePeopleNumber}}
      </div>
    </div>
  </div>
</template>

<template name="displayAnnouncement">
  {{#if isDisplay}}
    <div class="media bg-info text px-2 py-1 my-2 rounded" style="word-break: break-all;">
      <div class="media-body">
        【系統公告】：
        {{{announcement}}}
      </div>
      <div class="d-flex">
        <a class="btn btn-danger btn-sm" href="#">
          <i class="fa fa-times" aria-hidden="true"></i>
        </a>
      </div>
    </div>
  {{/if}}
</template>

<template name="displayAdvertising">
  <div class="media bg-info text px-2 py-1 my-2 rounded" style="word-break: break-all;">
    <div class="media-body">
      來自
      {{>userLink this.userId}}
      的廣告：「
      {{#if this.url}}
        <a href="{{this.url}}" target="_blank">{{this.message}}</a>
      {{else}}
        {{this.message}}
      {{/if}}
      」
    </div>
    <div class="d-flex">
      <a class="btn btn-danger btn-sm" href="#">
        <i class="fa fa-times" aria-hidden="true"></i>
      </a>
    </div>
  </div>
</template>